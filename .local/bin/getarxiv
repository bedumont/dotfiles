#!/bin/sh
[ -z "$1" ] && echo "Give either a pdf file or a DOI as an argument." && exit

arxiv=$(pdfinfo "$1" | grep -io "arxiv:.*") ||
arxiv=$(pdftotext "$1" 2>/dev/null - | grep -io "arxiv:.*" -m 1 | sed -E "s/.*([0-9]{4}\.[0-9]{5}).*/\1/")
echo "$arxiv"
